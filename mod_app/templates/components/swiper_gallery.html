{% if not slides %}
  <div class="fallback-text">
    <h4>
      Sorry, no relevant video/images can be found.
      <h4>
      </div>
{% elif slides|length > 1 %}
  <div class="swiper">
    <div class="swiper-wrapper">
      {% for slide in slides%}
        {% if slide_images %}
          <div class="swiper-slide">
          <!-- displays fallback-text when image fails to load-->
            <img class="slide__image" src="{{slide}}" alt={{slide.description| default:'Slide Image'}} onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
            <div class="fallback-text">Slide Image failed to load...</div>
            <div class="swiper-slide__description">
              <div class="swiper-slide__description__content">{{slide.description| default:'Slide Image'}}</div>
              {%if slide.url %}
                <button class="btn" type="button" onclick="window.open('{{slide.url}}', '_blank').focus()">See Source Image</button>
              {% elif slide.file.url %}
                <p>This item has been specially provided to us by the BFI and can be only viewed on this website</p>
              {%endif %}
            </div>
          </div>
        {% elif slide_videos %}
          <div class="swiper-slide">
            <iframe src="{{slide.url}}" allowfullscreen frameborder="0" scrolling="no" title="{{slide.description}}"></iframe>
            <div class="swiper-slide__description">
              <div class="swiper-slide__description__content">{{slide.description}}</div>
              <button class="btn" type="button" onclick="openImageLink('{{ slide.url }}')">See Image Source</button>
            </div>
          </div>
        {% else %}
          <div class="slide__content">{{slide}}</div>
        {% endif %}

      {%endfor %}
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>


    <!--to do: videos shouldn't be playable unless its on the active slide-->
{%elif slides|length == 1 %} {% if slide_images %}<img src="{{slides|join:','}}" alt="Slide Image: {{slides|join:','}}" /> {%elif slide_videos%}<iframe src="{{slides|join:','}}" allowfullscreen frameborder="0" scrolling="no" title="Slide Video"></iframe> {% endif%}{% endif%}


<script type="module" src="{% static 'js/swiperGallery.js' %}"></script>
